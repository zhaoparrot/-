google.maps.__gjsload__('visualization_impl', function(_){var S7=function(a){for(var b=Array(a),c=0;c<a;++c)b[c]=0;c=Array(a);for(var d=0;d<a;++d)c[d]=b.concat();return c},T7=function(a){if(!a||!a.getLength())return 1;var b=new _.ed;a.forEach(function(a){a&&b.extend(a.location||a)});var c=b.f.b,d=b.b.b,e=Math.max(b.f.f-c,b.b.f-d);if(1E-9>e){var f=0;a.forEach(function(a){a instanceof _.F?++f:f+=a.weight});return Math.max(1,f)}var g=800/e,h=S7(800),l=1;a.forEach(function(a){if(a){var b=a.location||a;a=a.weight||1;b=new _.K(Math.max(0,Math.min(799,Math.floor((b.lat()-
c)*g))),Math.max(0,Math.min(799,Math.floor((b.lng()-d)*g))));h[b.x][b.y]+=a;l=Math.max(l,h[b.x][b.y])}});return l},V7=function(a,b){var c=[],d=[],e=1E3/(a.length-1);_.v(a,function(a,b){c.push(b*e);d.push(_.vL(a))});a=Array(1001);for(var f=0,g=0;1001>g;++g)g>c[f+1]&&++f,a[g]=f<c.length-1?U7(e*f,g,e*(f+1),d[f],d[f+1]):d[d.length-1],a[g].alpha*=b,a[g].alpha=_.bb(Math.floor(255*a[g].alpha),0,255);return a},U7=function(a,b,c,d,e){if(a==c)return d;a=(b-a)/(c-a);return new _.sL(Math.floor((e.j-d.j)*a+d.j),
Math.floor((e.f-d.f)*a+d.f),Math.floor((e.b-d.b)*a+d.b),(e.alpha-d.alpha)*a+d.alpha)},X7=function(a,b,c){if(!W7){for(var d=Array(256),e=0;256>e;++e){for(var f=e,g=0;8>g;++g)f=f&1?(3988292384^f>>>1)>>>0:f>>>1;d[e]=f}W7=d}d=4294967295;e=b;for(b+=c;e<b;++e)d=(W7[(d^a[e])&255]^d>>>8)>>>0;return(d^4294967295)>>>0},Z7=function(a){this.f=a.createElement("div");this.b=new Y7(this)},Y7=_.pa("b"),$7=function(a,b){this.l=a;this.b=1;this.f=[];this.j=b},a8=function(a,b,c){_.pm(b.R,"");var d=b.ownerDocument,e;
if(_.NB()){var f=e=d.createElement("canvas");_.ym(f);var g=f.getContext("2d");var h=1<a.b}else if(1==_.X.type&&_.bm(_.X.version,8))f=new Z7(d),g=f.b,e=f.getDiv(),h=!1;else return;f.width=f.height=256;b.R.appendChild(e);f=a.get("projection");e=a.get("radius");e=Math.round(e/a.b)*a.b;var l=1<<b.zoom,n=b.tb,q=(256+2*e)/a.b;b=S7(q);for(var r in n){var u=n[r],C=f.fromLatLngToPoint(new _.F(u.I,u.J,!0)),A=f.fromLatLngToPoint(new _.F(u.K,u.L,!0));C=new _.K(Math.min(C.x,A.x),Math.min(C.y,A.y));C=new _.K(C.x+
e/l,C.y+e/l);u=a.l.search(u);A=0;for(var x=u.length;A<x;++A){var B=u[A],E=f.fromLatLngToPoint(new _.F(B.ea.x,B.ea.y)),H=Math.floor((Math.floor((E.y-C.y)*l)+e)/a.b);E=Math.floor((Math.floor((E.x-C.x)*l)+e)/a.b);0<=H&&H<q&&0<=E&&E<q&&(b[H][E]+=B.weight)}}r=a.f;f=Math.floor(r.length/2);e=b.length;l=e-f;n=S7(e);for(q=0;q<e;++q)for(C=b[q],x=n[q],u=0;u<e;++u)if(A=C[u])for(B=u-f,H=Math.min(l,u+f+1),E=Math.max(f,B);E<H;++E)x[E]+=A*r[E-B];b=S7(e-2*f);for(q=0;q<e;++q)for(C=n[q],x=Math.max(f,q-f),B=Math.min(l,
q+f+1),H=q-f,u=f,E=0;u<l;++u,++E)if(A=C[u])for(var I=x;I<B;++I)b[I-f][E]+=A*r[I-H];r=Math.ceil(256/a.b);r=g.createImageData(r,r);f=a.get("gradient");e=a.j;l=f[f.length-1];c=f.length/c;n=r.data;C=q=0;for(u=b.length;C<u;++C)for(A=b[C],x=0,B=A.length;x<B;++x)(H=A[x])||f[0].alpha?(H=f[Math.floor(H*c)]||l,E=e?H.alpha/255:1,n[q++]=H.j*E,n[q++]=H.f*E,n[q++]=H.b*E,n[q++]=H.alpha):q+=4;h?(d=d.createElement("canvas"),d.width=d.height=256/a.b,d.getContext("2d").putImageData(r,0,0),g.scale(a.b,a.b),g.drawImage(d,
0,0)):g.putImageData(r,0,0)},f8=function(a,b,c){c=void 0===c?_.Yi:c;_.Tg.call(this);var d=this;this.S=c;this.D=new _.L(256,256);this.f={};c=_.xd(-100,-300,100,300);this.B=new _.yH(c,void 0);c=_.xd(-90,-180,90,180);this.l=_.qL(c,function(a,b){return a.ea.V(b.ea)&&a.weight==b.weight});this.N=[];this.C=new _.qd;this.j=0;this.m=new $7(this.l,a);this.m.bindTo("projection",this,"projection",!0);this.m.bindTo("gradient",this,"gradient",!0);this.m.bindTo("radius",this,"radius",!0);b(this.C,function(a){return a8(d.m,
a,d.j)});this.F=new _.jv(function(){var a=d.j;d.j=b8(d);_.db(a,d.j)||c8(d)},0);this.addListener("data_changed",function(){return d8(d)});this.addListener("maxintensity_changed",function(){d.j=b8(d);c8(d)});this.addListener("gradient_changed",function(){c8(d)});this.addListener("opacity_changed",function(){var a=d.get("opacity"),b;for(b in d.f)d.f.hasOwnProperty(b)&&_.Am(d.f[b].R,a)});this.addListener("radius_changed",function(){for(var a in d.f)if(d.f.hasOwnProperty(a)){var b=d.f[a],c=void 0,h=b.tb;
for(c in h)h.hasOwnProperty(c)&&d.B.remove(h[c]);b.tb={};e8(d,b)}c8(d)});this.qc=!0},e8=function(a,b){var c=b.X,d=1<<b.zoom,e=a.get("radius"),f=new _.K(256*c.x/d,256*c.y/d);c=_.xd((256*c.x-e)/d,(256*c.y-e)/d,(256*(c.x+1)+e)/d,(256*(c.y+1)+e)/d);d=a.get("projection");_.rL(c,d,f,function(c){c.b=b;b.tb[_.Bb(c)]=c;_.zH(a.B,c)})},b8=function(a){var b=a.get("maxIntensity");return 1<=b?b:T7(a.get("data"))},d8=function(a){a.l.clear();var b=a.get("data");b&&(b.forEach(function(b){b&&_.pL(a.l,g8(b))}),a.F.f());
c8(a);for(var c=_.Rj(a.N),d=c.next();!d.done;d=c.next())_.z.removeListener(d.value);a.N=b?[b.addListener("insert_at",function(b){return h8(a,b)}),b.addListener("remove_at",function(b,c){return i8(a,c)}),b.addListener("set_at",function(b,c){i8(a,c);h8(a,b)})]:[]},h8=function(a,b){if(b=a.get("data").getAt(b))b=g8(b),_.pL(a.l,b),a.F.f(),j8(a,b.ea)},i8=function(a,b){b&&(b=g8(b),a.l.remove(b),a.F.f(),j8(a,b.ea))},j8=function(a,b){b=_.BH(a.B,b);b=_.Rj(b);for(var c=b.next();!c.done;c=b.next())_.rd(a.C,c.value.b)},
c8=function(a){for(var b in a.f)a.f.hasOwnProperty(b)&&_.rd(a.C,a.f[b])},g8=function(a){var b=a.location||a;a=a.weight||1;return{ea:new _.K(b.lat(),b.lng()),weight:a}},k8=function(a,b,c){this.b=a;a.b=(0,_.p)(this.j,this);this.m=b;this.f=c},l8=_.oa(),m8="rgba(102, 255, 0, 0);rgba(102, 255, 0, 1);rgba(147, 255, 0, 1);rgba(193, 255, 0, 1);rgba(238, 255, 0, 1);rgba(244, 227, 0, 1);rgba(249, 198, 0, 1);rgba(255, 170, 0, 1);rgba(255, 113, 0, 1);rgba(255, 57, 0, 1);rgba(255, 0, 0, 1)".split(";");var W7;var n8,o8=[137,80,78,71,13,10,26,10,0,0,0,13],p8=[0,0,0,0,73,69,78,68,174,66,96,130];Z7.prototype.getDiv=_.qa("f");Y7.prototype.createImageData=function(a,b){for(var c=Array(a*b*4),d=0;d<a*b*4;++d)c[d]=0;return{data:c,width:a,height:b}};
Y7.prototype.putImageData=function(a){var b=this.b,c=_.Y("img",b.getDiv()),d=a.width,e=a.height,f=a.data,g=11+(4*d+1)*e;a=Array(g+24);a[0]=g>>>24;a[1]=(g&16711680)>>16;a[2]=(g&65280)>>8;a[3]=g&255;a[4]=73;a[5]=68;a[6]=65;a[7]=84;a[8]=8;a[9]=29;a[10]=1;g-=11;a[11]=g&255;a[12]=(g&65280)>>8;a[13]=255-a[11];a[14]=255-a[12];for(var h=1,l=0,n=15,q=0,r=0;r<e;++r){a[n++]=0;l+=h;for(var u=0;u<4*d;++u)a[n++]=f[q],l+=h+=f[q++]}h%=65521;l%=65521;a[n++]=(l&65280)>>8;a[n++]=l&255;a[n++]=(h&65280)>>8;a[n++]=h&255;
f=X7(a,4,g+15);a[n++]=f>>>24;a[n++]=(f&16711680)>>16;a[n++]=(f&65280)>>8;a[n++]=f&255;f=0;for(g=p8.length;f<g;++f)a[n++]=p8[f];if(-1!=d||-1!=e)d=[73,72,68,82,d>>>24,(d&16711680)>>16,(d&65280)>>8,d&255,e>>>24,(e&16711680)>>16,(e&65280)>>8,e&255,8,6,0,0,0],e=X7(d,0,d.length),n8="data:image/png;base64,"+_.lk(o8.concat(d,[e>>>24,(e&16711680)>>16,(e&65280)>>8,e&255]));a=n8+_.lk(a);c.src=a;c.width=b.width;c.height=b.height};_.t($7,_.D);$7.prototype.radius_changed=function(){var a=this.get("radius");_.NB()?this.b=20>a?1:2:this.b=4;a=Math.round(a/this.b);for(var b=a/3,c=[],d=-a;d<=a;d++)c.push(Math.exp(-d*d/(2*b*b)));this.f=c};_.Mj(f8,_.Tg);f8.prototype.b=function(){return{tileSize:{Ta:this.D.width,Ua:this.D.height},rb:this.S,Fa:!0,Bb:2,Ca:this.T.bind(this)}};
f8.prototype.T=function(a,b){var c=this;b=void 0===b?{}:b;var d=void 0===b.pa?_.oa():b.pa,e=void 0===b.Ia?_.oa():b.Ia,f=!1,g=window.document.createElement("div");_.Yf(g,this.D);b=this.get("opacity");void 0!==b&&_.Am(g,b);var h={R:g,zoom:a.ca,X:new _.K(a.$,a.Z),tb:{},ownerDocument:window.document};g.ua=h;this.f[_.Bb(h)]=h;e8(this,h);this.j||(this.j=b8(this));a8(this.m,h,this.j);_.Yb(function(){f=!0;d()});return{ma:function(){return g},pb:function(){return f},X:a,release:function(){_.pm(g,"");delete c.f[_.Bb(h)];
e()},freeze:_.oa()}};f8.prototype.releaseTile=function(a){if(a){var b=a.ua;a.ua=null;delete this.f[_.Bb(b)];a=this.B;for(var c in b.tb)b.tb.hasOwnProperty(c)&&a.remove(b.tb[c]);_.pm(b.R,"")}};k8.prototype.j=function(){_.oB(this.f,(0,_.p)(this.l,this))};k8.prototype.l=function(){a:{var a=this.b.f;for(var b in a){a=a[b];this.b.remove(a);break a}a=null}a&&this.m(a)};l8.prototype.b=function(a){var b=a.j,c=a.j=a.get("map");b&&(a.b&&a.b.unbindAll(),a.f&&a.f.release(),_.un("Lh","-p",a));if(c){a.b=new _.xw({dissipating:!0,gradient:m8,opacity:.6,radius:10});a.b.bindTo("dissipating",a);a.b.bindTo("gradient",a);a.b.bindTo("opacity",a);a.b.bindTo("radius",a);b=new _.LB(["stringGradient","opacity"],"colorGradient",function(a,b){return V7(a,b)});b.bindTo("stringGradient",a.b,"gradient",!0);var d=new _.LB(["radius","dissipating","zoom"],"renderingRadius",function(a,b,c){return b?
a:Math.min(Math.round(a*Math.pow(2,c)),256)});d.bindTo("radius",a.b);d.bindTo("zoom",c);d.bindTo("dissipating",a.b);var e=null;e=new f8(_.wm.f(),function(a,b){new k8(a,b,new _.nB(_.pB(250),0))},void 0);e.bindTo("projection",c);e.bindTo("data",a);e.bindTo("maxIntensity",a);e.bindTo("gradient",b,"colorGradient");e.bindTo("radius",d,"renderingRadius");_.NB()?(e.bindTo("opacity",a.b),b.set("opacity",1)):b.bindTo("opacity",a.b);b=e.b();b=_.Jd(b);_.wH(c,b,"overlayLayer",15,{rh:function(b){a.f=b}});_.rn(c,
"Lh");_.tn("Lh","-p",a,!!c.W)}};_.Tc("visualization_impl",new l8);});
